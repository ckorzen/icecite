<link rel="import" href="menu_item_element.html">
<link rel="import" href="input_element.html">
<link rel="import" href="../packages/polymer/polymer.html">

<polymer-element name="menu-element" attributes="entry, users">
  <template>
    <link rel="stylesheet" href="menu_element.css">
    <div class="menu">
      <template if="{{ entry.brand != 'entry'}}">
        <menu-item-element class="download-button" on-click="{{ onDownloadButtonClicked }}" type="separated">
          <img src="../images/dblp_icon.png">
          Download {{ entry.externalSource.toUpperCase() }}-Entry.
        </menu-item-element>
      </template>
      <template if="{{ entry.brand == 'entry'}}">
        <menu-item-element class="menu-toggle" on-click="{{ onMenuToggleClick }}" type="separated">
          Menu
          <span class="caret"></span>
        </menu-item-element>
        <div class="menu-content">
          <div class="menu-header">
            Menu
          </div>
          <div class="menu-body">
	          <menu-item-element class="add-tag-button" type="embed">   
	            <input class="add-tag-input" 
	              is="input-element" 
	              placeholder="Add Tag(s)"
	              value="{{ newTagValue }}"
	              on-commit="{{ onNewTagCommitted }}">
	          </menu-item-element>
	                
	          <menu-item-element class="share-button" type="embed">
	            <select name="select-user" on-change="{{ onShareUserSelected }}">
	              <option selected disabled>Share with ...</option>
	              <option value="{{ user.id }}" template repeat="{{ user in users }}">
	                {{ user.firstName }} {{ user.lastName }}
	              </option>
	            </select>
	          </menu-item-element>
	                        
	          <menu-item-element class="delete-button" type="embed">
	            <span on-click="{{ onDeleteButtonClicked }}">Delete Entry</span>.
	          </menu-item-element>
	        </div>
        </div>
      </template>
    </div>
  </template>
   
  <script type="application/dart" src="menu_element.dart"></script>  
</polymer-element>
