<link rel="import" href="../packages/polymer/polymer.html">
<link rel="import" href="topic_element.html">

<polymer-element name="topics-element">
  <template>
    <link rel="stylesheet" href="topics_element.css">
    <!-- <link rel="stylesheet" href="elements/topics_element.css">   -->  
    <template if="{{ revealed }}">
      <div class="topics">
        <div class="topics-header">
          <div class="topics-heading">Topics</div>
          <div class="topics-new-topic" 
            title="Create new Topic" 
            on-click="{{ onNewTopicButtonClicked }}">
              +
          </div>
          <div class="triangle triangle-r"></div>
        </div>
        
        <div class="topics-body">
          <div class="topics-scroll-area">
            <template repeat="{{ topic in topics.values | sortByTitle() }}">
              <topic-element class="topic" 
                topic="{{ topic }}"
                draggable="{{ user.isOwner(topic) }}"
                on-topic-updated="{{ onTopicUpdated }}"
                on-topic-deleted="{{ onTopicDeleted }}"
                on-topic-selected="{{ onTopicSelected }}"
                on-topic-unselected="{{ onTopicUnselected }}"
                on-participant-disinvited="{{ onParticipantDisinvited }}"
                on-invitee-disinvited="{{ onInviteeDisinvited }}"
                on-entry-assigned="{{ onLibraryEntryAssigned }}">
              </topic-element>
            </template>
          </div>
        </div>
      </div>
    </template>
  </template>
  <script type="application/dart" src="topics_element.dart"></script>
</polymer-element>